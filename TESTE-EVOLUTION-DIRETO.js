/**
 * üî• TESTE DIRETO - EVOLUTION API QR
 * Testar se Evolution API est√° retornando QR v√°lidos
 */

const EVOLUTION_URL = 'https://evolutionapi.roilabs.com.br';

async function testarEvolutionQR() {
  console.log('üî• TESTE DIRETO EVOLUTION API - QR CODES');
  console.log('='.repeat(50));
  
  try {
    // Testar endpoint b√°sico
    console.log('\n1Ô∏è‚É£ TESTANDO HEALTH...');
    const healthResponse = await fetch(`${EVOLUTION_URL}/`);
    console.log('Status:', healthResponse.status);
    
    if (healthResponse.status === 404) {
      console.log('‚úÖ Evolution API respondeu (404 √© normal para /)');
    }

    // Testar endpoint de inst√¢ncias (vai dar 401 sem API key)
    console.log('\n2Ô∏è‚É£ TESTANDO ENDPOINT INST√ÇNCIAS...');
    const instancesResponse = await fetch(`${EVOLUTION_URL}/instance/fetchInstances`);
    console.log('Status:', instancesResponse.status);
    
    if (instancesResponse.status === 401) {
      console.log('‚úÖ Evolution API pede autentica√ß√£o (esperado)');
    }

    console.log('\n3Ô∏è‚É£ CONCLUS√ÉO:');
    console.log('‚ùå Evolution API precisa de API key v√°lida');
    console.log('‚ùå Backend Sofia est√° retornando dados incorretos');
    console.log('‚úÖ Problema est√° na integra√ß√£o, n√£o no frontend');

  } catch (error) {
    console.error('‚ùå ERRO:', error.message);
  }
}

testarEvolutionQR();
